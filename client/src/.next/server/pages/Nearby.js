(()=>{var e={};e.id=325,e.ids=[325,660],e.modules={36519:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(34740).Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]])},16538:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(34740).Z)("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]])},63422:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s={src:"/_next/static/media/marker-icon.d577052a.png",height:41,width:25,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAYAAAAx8TU7AAAAoUlEQVR42mNwK5vB4zr5+EL9iadfAulFbhVzeBkc+45u8Jtx/n/Dmiv//YE0kL+JgbPl2N/2tZf//f///2/X+iv/GFuO/mUwaD54ybv/zP/pmy//9p1w5r9+88GLDFa1GxLUGk/8Zyg9+Uut4cR/q5oNcQwgYFCz97hu3Zn/IJoBBvRL17lrVB78r1+61g0uqJvcyKJfvLxJN6mKhYGBgQEAd2dNMQ5zpzwAAAAASUVORK5CYII=",blurWidth:5,blurHeight:8}},85679:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s={src:"/_next/static/media/marker-shadow.612e3b52.png",height:41,width:41,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAASElEQVR42o3BsQmAMAAAsLRYinSWbkJXL7C46+QgOHiB/5/gCyZ+CgZZEgUgmTWTYgCaXbeoMmSXx6mrEkS316EZBQJWmyLCB7UNBGZ+qNRZAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},71038:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{config:()=>g,default:()=>m,getServerSideProps:()=>b,getStaticPaths:()=>h,getStaticProps:()=>u,reportWebVitals:()=>f,routeModule:()=>A,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>w});var i=a(39847),r=a(2603),l=a(38847),o=a(16532),n=a.n(o),d=a(94273),c=a.n(d),x=a(83795),p=e([x]);x=(p.then?(await p)():p)[0];let m=(0,l.l)(x,"default"),u=(0,l.l)(x,"getStaticProps"),h=(0,l.l)(x,"getStaticPaths"),b=(0,l.l)(x,"getServerSideProps"),g=(0,l.l)(x,"config"),f=(0,l.l)(x,"reportWebVitals"),w=(0,l.l)(x,"unstable_getStaticProps"),j=(0,l.l)(x,"unstable_getStaticPaths"),v=(0,l.l)(x,"unstable_getStaticParams"),y=(0,l.l)(x,"unstable_getServerProps"),N=(0,l.l)(x,"unstable_getServerSideProps"),A=new i.PagesRouteModule({definition:{kind:r.x.PAGES,page:"/Nearby",pathname:"/Nearby",bundlePath:"",filename:""},components:{App:c(),Document:n()},userland:x});s()}catch(e){s(e)}})},83795:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>k});var i=a(20997),r=a(16689),l=a(14661),o=a(54045);a(22967);var n=a(25194),d=a.n(n),c=a(99648),x=a(86201),p=a(95382),m=a(66197),u=a(93078),h=a(46737),b=a(26528),g=a(84871),f=a(82558),w=a(16538),j=a(36519),v=a(63422),y=a(85679),N=e([o,c,x,p,m]);[o,c,x,p,m]=N.then?(await N)():N;let S=d().icon({iconUrl:v.Z,shadowUrl:y.Z,iconSize:[25,41],iconAnchor:[12,41]});d().Marker.prototype.options.icon=S;let P={police:[{id:"m-p1",name:"Andheri Police Station",address:"Andheri East, Mumbai",rating:"4.5",lat:19.1197,lon:72.8464},{id:"m-p2",name:"Bandra Police Station",address:"Bandra West, Mumbai",rating:"4.2",lat:19.0544,lon:72.8402}],courts:[{id:"m-c1",name:"Mumbai District Court",address:"Fort, Mumbai",rating:"4.8",lat:18.929,lon:72.831}],lawyers:[{id:"m-l1",name:"Adv. Rahul Sharma",specialization:"Criminal Law",plan:"diamond",address:"Mumbai",lat:19.076,lon:72.8777,rating:5,image:"https://randomuser.me/api/portraits/men/32.jpg"},{id:"m-l2",name:"Adv. Neha Verma",specialization:"Corporate Law",plan:"gold",address:"Delhi",lat:28.6139,lon:77.209,rating:4.9,image:"https://randomuser.me/api/portraits/women/44.jpg"}]},C=e=>d().divIcon({html:`<div class="w-12 h-12 bg-midnight-900 rounded-full flex items-center justify-center text-2xl shadow-2xl border-2 border-white transform hover:scale-110 transition-all">${e}</div>`,className:"bg-transparent",iconSize:[48,48],iconAnchor:[24,48]}),z=C("\uD83D\uDE93"),Z=C("⚖️"),D=C("\uD83D\uDC68‍⚖️");function A({center:e}){let t=(0,o.useMap)();return(0,r.useEffect)(()=>{e&&t.flyTo(e,13,{animate:!0,duration:2})},[e,t]),null}function k(){let[e,t]=(0,r.useState)(null),[a,s]=(0,r.useState)(!0),[n,d]=(0,r.useState)({police:[],courts:[],lawyers:[]}),[v,y]=(0,r.useState)("all"),[N,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!navigator.geolocation){x.default.error("Geolocation is not supported"),s(!1);return}navigator.geolocation.getCurrentPosition(async e=>{let{latitude:a,longitude:i}=e.coords;t([a,i]),await S(a,i),s(!1),x.default.success("Location Triangulated. Systems Online.")},e=>{console.error(e),x.default.error("GPS Signal Weak. Falling back to default."),t([28.6139,77.209]),S(28.6139,77.209),s(!1)})},[]);let S=async(e,t)=>{try{let a=((await c.default.get(`/api/nearby?lat=${e}&lon=${t}`)).data||[]).filter(e=>e.lat&&e.lon&&!isNaN(e.lat)&&!isNaN(e.lon)),s=a.filter(e=>"police"===e.type),i=a.filter(e=>"court"===e.type),r=a.filter(e=>"lawyer"===e.type).map(e=>({...e,id:e.id||e._id||Math.random().toString(36).substr(2,9),image:e.image||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name)}&background=0D8ABC&color=fff`,plan:e.plan||"basic"}));d({police:s,courts:i,lawyers:r})}catch(e){console.error("Failed to fetch nearby data",e),x.default.error("Radar Interference. Using Local Cache."),d(P)}},C=[{id:"all",label:"All Assets",icon:i.jsx(u.Z,{size:16})},{id:"police",label:"Police",icon:i.jsx(h.Z,{size:16})},{id:"courts",label:"Courts",icon:i.jsx(b.Z,{size:16})},{id:"lawyers",label:"Lawyers",icon:i.jsx(g.Z,{size:16})}];return a?i.jsx("div",{className:"min-h-screen bg-[#0c1220] font-sans pb-20 flex items-center justify-center text-white",children:(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"}),i.jsx("h2",{className:"text-2xl font-bold mt-6 tracking-widest uppercase",children:"Initializing Satellites"}),i.jsx("p",{className:"text-indigo-400 font-mono text-sm mt-2",children:"Triangulating verified coordinates..."})]})}):(0,i.jsxs)("div",{className:"min-h-screen bg-[#0c1220] relative overflow-hidden font-sans",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full z-[1000]",children:i.jsx(p.Z,{})}),i.jsx(m.motion.div,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,ease:"circOut"},className:"absolute top-24 left-6 z-[500] w-full max-w-sm h-[calc(100vh-120px)] pointer-events-none",children:(0,i.jsxs)("div",{className:"w-full h-full bg-[#020617]/90 backdrop-blur-xl rounded-[2rem] shadow-2xl border border-white/10 flex flex-col overflow-hidden pointer-events-auto",children:[(0,i.jsxs)("div",{className:"p-6 border-b border-white/5 bg-gradient-to-r from-white/5 to-transparent",children:[i.jsx("h1",{className:"text-2xl font-black text-white font-serif mb-1",children:"Radar"}),i.jsx("p",{className:"text-xs text-indigo-400 font-bold uppercase tracking-widest mb-6",children:"Real-time Legal Assets"}),i.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:C.map(e=>(0,i.jsxs)("button",{onClick:()=>y(e.id),className:`px-4 py-2.5 rounded-xl text-xs font-bold transition whitespace-nowrap flex items-center gap-2 border ${v===e.id?"bg-indigo-600 text-white border-indigo-500 shadow-lg shadow-indigo-600/20":"bg-white/5 border-white/5 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[e.icon," ",e.label]},e.id))})]}),(0,i.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:[("all"===v||"police"===v)&&(0,i.jsxs)("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Police Stations"}),n.police.map(e=>i.jsx(M,{data:e,type:"police"},e.id))]}),("all"===v||"courts"===v)&&(0,i.jsxs)("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Judicial Courts"}),n.courts.map(e=>i.jsx(M,{data:e,type:"court"},e.id))]}),("all"===v||"lawyers"===v)&&(0,i.jsxs)("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Available Counsel"}),n.lawyers.map(e=>i.jsx(L,{data:e},e.id))]})]})]})}),i.jsx("div",{className:"absolute top-24 right-6 z-[500]",children:(0,i.jsxs)("button",{onClick:()=>k(!N),className:`flex items-center gap-2 px-6 py-3 rounded-full font-bold shadow-2xl transition-all ${N?"bg-red-500 text-white animate-pulse":"bg-white text-slate-900 hover:bg-indigo-50"}`,children:[N?i.jsx(f.Z,{size:18}):i.jsx(w.Z,{size:18}),N?"Close AR Vision":"Enable AR Vision"]})}),i.jsx(m.AnimatePresence,{children:N&&(0,i.jsxs)(m.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[400] bg-black/50 pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1517331566373-cf67e9140d33?q=80&w=2000&auto=format&fit=crop')] bg-cover bg-center opacity-40 mix-blend-overlay"}),i.jsx("div",{className:"absolute inset-0 border-[20px] border-indigo-500/20 rounded-[3rem] m-4 pointer-events-none"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-12 h-12 border-2 border-white/50 rounded-full flex items-center justify-center",children:i.jsx("div",{className:"w-1 h-1 bg-red-500 rounded-full"})}),n.lawyers.slice(0,2).map((e,t)=>(0,i.jsxs)(m.motion.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5+.2*t},style:{top:`${30+20*t}%`,left:`${20+40*t}%`},className:"absolute pointer-events-auto cursor-pointer",children:[(0,i.jsxs)("div",{className:"bg-black/80 backdrop-blur-md border border-indigo-500 p-4 rounded-xl text-center shadow-[0_0_30px_rgba(79,70,229,0.6)]",children:[i.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-indigo-500 mx-auto -mt-10 overflow-hidden bg-slate-900",children:i.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),i.jsx("h4",{className:"text-white font-bold mt-2 text-sm",children:e.name}),i.jsx("p",{className:"text-[10px] text-indigo-400 font-bold uppercase",children:e.specialization}),(0,i.jsxs)("p",{className:"text-[10px] text-emerald-400 mt-1",children:[.4+.3*t," km away"]}),i.jsx(l.Link,{to:`/lawyer/${e.id}`,className:"block mt-2 bg-indigo-600 text-[10px] py-1 rounded text-white font-bold",children:"Connect"})]}),i.jsx("div",{className:"w-0.5 h-20 bg-gradient-to-b from-indigo-500 to-transparent mx-auto"})]},e.id))]})}),i.jsx("div",{className:"w-full h-full z-0 block bg-slate-900",children:e&&(0,i.jsxs)(o.MapContainer,{center:e,zoom:13,scrollWheelZoom:!0,className:"h-full w-full outline-none",style:{background:"#0f172a"},children:[i.jsx(o.TileLayer,{attribution:'\xa9 <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a>',url:"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png"}),i.jsx(A,{center:e}),i.jsx(o.Marker,{position:e,children:i.jsx(o.Popup,{children:i.jsx("div",{className:"font-bold text-center",children:"\uD83D\uDCCD You Are Here"})})}),("all"===v||"police"===v)&&n.police.map(e=>i.jsx(o.Marker,{position:[e.lat,e.lon],icon:z,children:(0,i.jsxs)(o.Popup,{children:[i.jsx("b",{children:e.name}),i.jsx("br",{}),e.address]})},e.id)),("all"===v||"courts"===v)&&n.courts.map(e=>i.jsx(o.Marker,{position:[e.lat,e.lon],icon:Z,children:(0,i.jsxs)(o.Popup,{children:[i.jsx("b",{children:e.name}),i.jsx("br",{}),e.address]})},e.id)),("all"===v||"lawyers"===v)&&n.lawyers.map(e=>i.jsx(o.Marker,{position:[e.lat,e.lon],icon:D,children:i.jsx(o.Popup,{children:(0,i.jsxs)("div",{className:"text-center p-2 min-w-[200px]",children:[i.jsx("img",{src:e.image,className:"w-12 h-12 rounded-full mx-auto mb-2 border-2 border-slate-900"}),i.jsx("b",{className:"text-slate-900 text-lg",children:e.name}),i.jsx("br",{}),i.jsx("span",{className:"text-xs text-indigo-600 font-bold uppercase",children:e.specialization}),i.jsx("br",{}),i.jsx(l.Link,{to:`/lawyer/${e.id}`,className:"block mt-3 bg-slate-900 text-white text-xs font-bold px-4 py-2 rounded-lg hover:bg-black transition",children:"Full Profile"})]})})},e.id))]})}),i.jsx("button",{onClick:()=>{navigator.geolocation.getCurrentPosition(e=>{t([e.coords.latitude,e.coords.longitude]),x.default.success("Recalibrating Coordinates...")})},className:"absolute bottom-10 right-10 z-[500] bg-indigo-600 text-white p-4 rounded-2xl shadow-2xl hover:bg-indigo-500 transition active:scale-95 border border-indigo-400/50",children:i.jsx(j.Z,{size:24})})]})}let M=({data:e,type:t})=>(0,i.jsxs)("div",{className:"bg-white/5 hover:bg-white/10 p-4 rounded-2xl border border-white/5 transition flex gap-4 cursor-pointer group",children:[i.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-lg shadow-inner ${"police"===t?"bg-blue-500/20 text-blue-400":"bg-amber-500/20 text-amber-400"}`,children:"police"===t?"\uD83D\uDE93":"⚖️"}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"font-bold text-slate-200 text-sm group-hover:text-white transition",children:e.name}),i.jsx("p",{className:"text-xs text-slate-500 truncate max-w-[180px]",children:e.address})]})]}),L=({data:e})=>(0,i.jsxs)("div",{className:"bg-white/5 hover:bg-white/10 p-4 rounded-2xl border border-white/5 transition flex gap-4 cursor-pointer group relative overflow-hidden",children:["diamond"===e.plan&&i.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-amber-500/20 to-transparent pointer-events-none"}),i.jsx("img",{src:e.image,className:"w-10 h-10 rounded-full border border-white/10"}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("h4",{className:"font-bold text-slate-200 text-sm truncate group-hover:text-white transition flex items-center gap-2",children:[e.name,"diamond"===e.plan&&i.jsx("span",{className:"text-[10px] bg-amber-500/20 text-amber-400 px-1.5 py-0.5 rounded border border-amber-500/30",children:"PRO"})]}),i.jsx("p",{className:"text-xs text-indigo-400 font-bold",children:e.specialization}),i.jsx(l.Link,{to:`/lawyer/${e.id}`,className:"block mt-2 text-[10px] font-bold text-slate-500 hover:text-white uppercase tracking-wider transition",children:"View Dossier →"})]})]});s()}catch(e){s(e)}})},22967:()=>{},25194:e=>{"use strict";e.exports=require("leaflet")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},62785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},16689:e=>{"use strict";e.exports=require("react")},14661:e=>{"use strict";e.exports=require("react-router-dom")},20997:e=>{"use strict";e.exports=require("react/jsx-runtime")},99648:e=>{"use strict";e.exports=import("axios")},66197:e=>{"use strict";e.exports=import("framer-motion")},86201:e=>{"use strict";e.exports=import("react-hot-toast")},54045:e=>{"use strict";e.exports=import("react-leaflet")},71017:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[6532,8937,5382],()=>a(71038));module.exports=s})();